{% extends "base.html" %}

{% load static %}
{% block style %}
  <link rel="stylesheet" href="{% static 'css/signup.css' %}">
{% endblock style %}

{% block content %}
  <div class="rounded bg-white mt-5 shadow signup-container">
    <h4 class="text-center">Create Account</h4>
    <form style="position: relative;" action="" method='POST'>
        <i id="icon" style="position: absolute; top: 162px; right: 15px; cursor:pointer;" class="fa-solid fa-eye-slash"></i>
        {% csrf_token %}
        <label class="w-100" for="username">Username</label><br>
        {{form.username}}
        <label class="w-100" for="email">Email</label><br>
        {{form.email}}
        <label class="w-100" for="password1">Password</label><br>
        {{form.password1}}
        <label class="w-100" for="password2">Confirm Password</label><br>
        {{form.password2}}
        {% for message in messages %}
        <p class="text-center mt-2 text-danger">{{message}}</p>
        {% endfor %}
        <button class="btn btn-success p-1 mt-4" type="submit">Create Account</button> 
        <p class="mt-3 ml-5">Already have an account <a href="{% url 'login' %}">Login</a></p>
    </form>
  </div>



  <script>

    let icon = document.getElementById('icon')
    passwordfield = document.getElementById('id_password1')

    const toggle = () => {
      if(icon.classList.contains('fa-eye-slash')){
        icon.classList.remove('fa-eye-slash')
        icon.classList.add('fa-eye')
        passwordfield.setAttribute('type', 'text')
      }else{
        icon.classList.remove('fa-eye')
        icon.classList.add('fa-eye-slash')
        passwordfield.setAttribute('type', 'password')

      }
    }


    icon.addEventListener('click', toggle)
  </script>
{% endblock content %}